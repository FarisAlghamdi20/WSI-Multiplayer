<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ูู ูุงููุงุ - ูุนุจุฉ ุฃุณุฆูุฉ ูุชุนุฏุฏุฉ ุงููุงุนุจูู</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>๐ฎ</text></svg>">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Landing Page -->
        <div id="landing" class="screen active" style="background: #0f0f23; position: relative; min-height: 100vh;">
            <div class="container">
                <header class="header">
                    <h1 class="title">ูู ูุงููุงุ</h1>
                    <p class="subtitle">ุงุฎุชุจุฑ ูุนุฑูุชู ุจุงูุฃููุงู ุงูุดููุฑุฉ ูู ูุฐู ุงููุนุจุฉ ุงูุฌูุงุนูุฉ</p>
                </header>
                
                <div class="landing-actions">
                    <button id="createGameBtn" class="btn btn-primary">
                        <span class="btn-icon">๐ฎ</span>
                        ุฅูุดุงุก ูุนุจุฉ
                    </button>
                    <button id="joinGameBtn" class="btn btn-secondary">
                        <span class="btn-icon">๐</span>
                        ุงูุงูุถูุงู ููุนุจุฉ
                    </button>
                </div>
                
                <!-- Create Game Modal -->
                <div id="createModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2>ุฅูุดุงุก ูุนุจุฉ</h2>
                            <button id="closeCreateModal" class="close-btn">&times;</button>
                        </div>
                        <div class="modal-body">
                            <div class="input-group">
                                <label for="createPlayerName">ุงุณูู</label>
                                <input type="text" id="createPlayerName" placeholder="ุฃุฏุฎู ุงุณูู" maxlength="20">
                            </div>
                            <div class="input-group">
                                <label for="createPlayerAvatar">ุงุฎุชุฑ ุงูุตูุฑุฉ ุงูุฑูุฒูุฉ</label>
                                <div class="avatar-selection">
                                    <div class="avatar-option" data-avatar="๐ฎ">
                                        <span class="avatar-emoji">๐ฎ</span>
                                    </div>
                                    <div class="avatar-option" data-avatar="๐ฏ">
                                        <span class="avatar-emoji">๐ฏ</span>
                                    </div>
                                    <div class="avatar-option" data-avatar="๐ช">
                                        <span class="avatar-emoji">๐ช</span>
                                    </div>
                                    <div class="avatar-option" data-avatar="๐จ">
                                        <span class="avatar-emoji">๐จ</span>
                                    </div>
                                    <div class="avatar-option" data-avatar="๐ญ">
                                        <span class="avatar-emoji">๐ญ</span>
                                    </div>
                                    <div class="avatar-option" data-avatar="๐ธ">
                                        <span class="avatar-emoji">๐ธ</span>
                                    </div>
                                    <div class="avatar-option" data-avatar="๐บ">
                                        <span class="avatar-emoji">๐บ</span>
                                    </div>
                                    <div class="avatar-option" data-avatar="๐ป">
                                        <span class="avatar-emoji">๐ป</span>
                                    </div>
                                </div>
                            </div>
                            <button id="createGameConfirm" class="btn btn-primary">ุฅูุดุงุก ุงููุนุจุฉ</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Settings Modal -->
        <div id="gameSettingsModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>ุฅุนุฏุงุฏุงุช ุงููุนุจุฉ</h2>
                    <button id="closeGameSettingsModal" class="close-btn">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="input-group">
                        <label for="totalRounds">ุนุฏุฏ ุงูุฃุณุฆูุฉ</label>
                        <select id="totalRounds">
                            <option value="5">5 ุฃุณุฆูุฉ</option>
                            <option value="10" selected>10 ุฃุณุฆูุฉ</option>
                            <option value="15">15 ุณุคุงู</option>
                            <option value="20">20 ุณุคุงู</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="questionTimer">ุงูููุช ููู ุณุคุงู (ุซูุงูู)</label>
                        <select id="questionTimer">
                            <option value="10">10 ุซูุงูู</option>
                            <option value="15" selected>15 ุซุงููุฉ</option>
                            <option value="20">20 ุซุงููุฉ</option>
                            <option value="30">30 ุซุงููุฉ</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="maxPlayers">ุงูุญุฏ ุงูุฃูุตู ููุงุนุจูู</label>
                        <select id="maxPlayers">
                            <option value="4">4 ูุงุนุจูู</option>
                            <option value="6">6 ูุงุนุจูู</option>
                            <option value="8" selected>8 ูุงุนุจูู</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>
                            <input type="checkbox" id="allowSpectators" checked>
                            ุงูุณูุงุญ ูููุชูุฑุฌูู
                        </label>
                    </div>
                    <div class="input-group">
                        <label for="questionCategories">ูุฆุงุช ุงูุฃุณุฆูุฉ</label>
                        <select id="questionCategories" multiple>
                            <option value="All" selected>ุฌููุน ุงููุฆุงุช</option>
                        </select>
                        <small>ุงุถุบุท Ctrl/Cmd ูุงุฎุชูุงุฑ ูุฆุงุช ูุชุนุฏุฏุฉ</small>
                    </div>
                    <div class="input-group">
                        <label for="questionDifficulty">ูุณุชูู ุงูุตุนูุจุฉ</label>
                        <select id="questionDifficulty">
                            <option value="All" selected>ุฌููุน ุงููุณุชููุงุช</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>
                            <input type="checkbox" id="showCorrectAnswer" checked>
                            ุฅุธูุงุฑ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ุจุนุฏ ูู ุณุคุงู
                        </label>
                    </div>
                    <div class="input-group">
                        <label>
                            <input type="checkbox" id="allowAnswerChanges" checked>
                            ุงูุณูุงุญ ููุงุนุจูู ุจุชุบููุฑ ุงูุฅุฌุงุจุงุช
                        </label>
                    </div>
                    <div class="input-group">
                        <label>
                            <input type="checkbox" id="showTimer" checked>
                            ุฅุธูุงุฑ ุงููุคูุช ุฃุซูุงุก ุงูุฃุณุฆูุฉ
                        </label>
                    </div>
                    <div class="input-group">
                        <label>
                            <input type="checkbox" id="shuffleAnswers" checked>
                            ุฎูุท ุฎูุงุฑุงุช ุงูุฅุฌุงุจุฉ
                        </label>
                    </div>
                    <div class="input-group">
                        <label for="bonusPoints">ููุงุท ุฅุถุงููุฉ ููุณุฑุนุฉ</label>
                        <select id="bonusPoints">
                            <option value="5" selected>5 ููุงุท (ุฃูู 3 ุตุญูุญุฉ)</option>
                            <option value="3">3 ููุงุท (ุฃูู 3 ุตุญูุญุฉ)</option>
                            <option value="0">ูุง ุชูุฌุฏ ููุงุท ุฅุถุงููุฉ</option>
                        </select>
                    </div>
                    <button id="saveGameSettings" class="btn btn-primary">ุญูุธ ุงูุฅุนุฏุงุฏุงุช</button>
                </div>
            </div>
        </div>

        <!-- Join Game Modal -->
        <div id="joinModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>ุงูุงูุถูุงู ููุนุจุฉ</h2>
                    <button id="closeJoinModal" class="close-btn">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="input-group">
                        <label for="gameCode">ุฃุฏุฎู ุฑูุฒ ุงููุนุจุฉ</label>
                        <input type="text" id="gameCode" placeholder="ุฃุฏุฎู ุงูุฑูุฒ ุงููููู ูู 6 ุฃุฑูุงู" maxlength="6">
                    </div>
                    <div class="input-group">
                        <label for="playerName">ุงุณูู</label>
                        <input type="text" id="playerName" placeholder="ุฃุฏุฎู ุงุณูู" maxlength="20">
                    </div>
                    <div class="input-group">
                        <label for="playerAvatar">ุงุฎุชุฑ ุงูุตูุฑุฉ ุงูุฑูุฒูุฉ</label>
                        <div class="avatar-selection">
                            <div class="avatar-option" data-avatar="๐ฎ">
                                <span class="avatar-emoji">๐ฎ</span>
                            </div>
                            <div class="avatar-option" data-avatar="๐ฏ">
                                <span class="avatar-emoji">๐ฏ</span>
                            </div>
                            <div class="avatar-option" data-avatar="๐ช">
                                <span class="avatar-emoji">๐ช</span>
                            </div>
                            <div class="avatar-option" data-avatar="๐จ">
                                <span class="avatar-emoji">๐จ</span>
                            </div>
                            <div class="avatar-option" data-avatar="๐ญ">
                                <span class="avatar-emoji">๐ญ</span>
                            </div>
                            <div class="avatar-option" data-avatar="๐ธ">
                                <span class="avatar-emoji">๐ธ</span>
                            </div>
                            <div class="avatar-option" data-avatar="๐บ">
                                <span class="avatar-emoji">๐บ</span>
                            </div>
                            <div class="avatar-option" data-avatar="๐ป">
                                <span class="avatar-emoji">๐ป</span>
                            </div>
                        </div>
                    </div>
                    <button id="joinGameConfirm" class="btn btn-primary">ุงูุงูุถูุงู ููุนุจุฉ</button>
                </div>
            </div>
        </div>

        <!-- Lobby Screen -->
        <div id="lobby" class="screen" style="background: #0f0f23; position: relative; min-height: 100vh;">
            <div class="container">
                <header class="lobby-header">
                    <div class="game-info">
                        <h2>ุบุฑูุฉ ุงููุนุจุฉ</h2>
                        <div class="game-code">
                            <span>ุงูุฑูุฒ: </span>
                            <span id="lobbyGameCode" class="code-display"></span>
                            <button id="copyCodeBtn" class="btn btn-small">ูุณุฎ</button>
                        </div>
                    </div>
                    <div class="player-count">
                        <span id="playerCount">1</span> / 8 ูุงุนุจูู
                    </div>
                </header>

                <div class="lobby-content">
                    <div class="players-section">
                        <h3>ุงููุงุนุจูู</h3>
                        <div id="playersList" class="players-list">
                            <!-- Players will be added here dynamically -->
                        </div>
                    </div>

                    <div class="chat-section">
                        <h3>ุงูุฏุฑุฏุดุฉ</h3>
                        <div id="chatMessages" class="chat-messages"></div>
                        <div class="chat-input">
                            <input type="text" id="chatInput" placeholder="ุงูุชุจ ุฑุณุงูุฉ...">
                            <button id="sendMessageBtn"></button>
                        </div>
                    </div>
                </div>

                <div class="lobby-actions">
                    <button id="readyBtn" class="btn btn-primary">ุฌุงูุฒ</button>
                    <button id="startGameBtn" class="btn btn-success" disabled>ุจุฏุก ุงููุนุจุฉ</button>
                    <button id="soundToggleBtn" class="btn btn-primary">๐ ุงูุตูุช</button>
                    <button id="lobbyLeaveGameBtn" class="btn btn-danger">ูุบุงุฏุฑุฉ ุงููุนุจุฉ</button>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game" class="screen" style="background: #0f0f23; position: relative; min-height: 100vh;">
            <div class="container">
                <header class="game-header">
                    <div class="game-stats">
                        <div class="question-counter">
                            ุณุคุงู <span id="currentQuestion">1</span> ูู <span id="totalQuestions">10</span>
                        </div>
                        <div class="timer">
                            <span id="timerDisplay">15</span>s
                        </div>
                    </div>
                </header>

                <div class="game-content">
                    <div class="game-main">
                        <div class="question-display">
                            <div class="question-text" id="quoteText">
                                "ุฌุงุฑู ุชุญููู ุงูุณุคุงู..."
                            </div>
                        </div>
                        
                        <div class="answer-options" id="answersList">
                            <!-- Answer options will be added here -->
                        </div>
                    </div>
                    
                    <div class="game-sidebar">
                        <div class="scoreboard">
                            <h3>ููุญุฉ ุงููุชุงุฆุฌ</h3>
                            <div id="scoreboardList" class="scoreboard-list">
                                <!-- Scores will be added here -->
                            </div>
                        </div>
                        
                        <div class="game-chat">
                            <h4>ุงูุฏุฑุฏุดุฉ</h4>
                            <div id="gameChatMessages" class="chat-messages"></div>
                            <div class="chat-input-container">
                                <input type="text" id="gameChatInput" class="chat-input" placeholder="ุงูุชุจ ุฑุณุงูุฉ...">
                                <button id="sendGameMessageBtn" class="send-message-btn"></button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="game-actions">
                    <button id="gameLeaveGameBtn" class="btn btn-danger btn-small">ูุบุงุฏุฑุฉ ุงููุนุจุฉ</button>
                </div>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results" class="screen" style="background: #0f0f23; position: relative; min-height: 100vh;">
            <div class="container">
                <header class="results-header">
                    <h2>ูุชุงุฆุฌ ุงูุฌููุฉ</h2>
                </header>

                <div class="results-content">
                    <div class="correct-answer">
                        <h3>ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ</h3>
                        <div class="answer-reveal">
                            <div class="author-name" id="correctAuthor"></div>
                            <div class="author-info" id="authorInfo"></div>
                        </div>
                    </div>

                    <div class="scoreboard-final">
                        <h3>ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ</h3>
                        <div id="finalScoreboard" class="final-scoreboard">
                            <!-- Final scores will be added here -->
                        </div>
                    </div>
                </div>

                <div class="results-actions">
                    <button id="nextQuestionBtn" class="btn btn-primary">ุงูุณุคุงู ุงูุชุงูู</button>
                    <button id="backToLobbyBtn" class="btn btn-secondary">ุงูุนูุฏุฉ ููุบุฑูุฉ</button>
                </div>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="gameOver" class="screen" style="background: #0f0f23; position: relative; min-height: 100vh;">
            <div class="container">
                <header class="game-over-header">
                    <h2>ุงูุชูุช ุงููุนุจุฉ!</h2>
                    <div class="winner-announcement">
                        <div class="winner-name" id="winnerName"></div>
                        <div class="winner-score" id="winnerScore"></div>
                    </div>
                </header>

                <div class="final-leaderboard">
                    <h3>ุงูุชุฑุชูุจ ุงูููุงุฆู</h3>
                    <div id="finalLeaderboard" class="leaderboard-final">
                        <!-- Final leaderboard will be added here -->
                    </div>
                </div>

                <div class="game-over-actions">
                    <button id="playAgainBtn" class="btn btn-primary">ุงูุนุจ ูุฑุฉ ุฃุฎุฑู</button>
                    <button id="newGameBtn" class="btn btn-secondary">ูุนุจุฉ ุฌุฏูุฏุฉ</button>
                    <button id="exitGameBtn" class="btn btn-danger">ุฎุฑูุฌ</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <p>ุฌุงุฑู ุงูุงุชุตุงู...</p>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="game.js"></script>
</body>
</html>