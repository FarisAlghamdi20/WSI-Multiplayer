<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Who Said It - Multiplayer Trivia</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸŽ®</text></svg>">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Landing Page -->
        <div id="landing" class="screen active">
            <div class="container">
                <header class="header">
                    <h1 class="title">Who Said It?</h1>
                    <p class="subtitle">Test your knowledge of famous quotes in this multiplayer trivia game</p>
                </header>
                
                <div class="landing-actions">
                    <button id="createGameBtn" class="btn btn-primary">
                        <span class="btn-icon">ðŸŽ®</span>
                        Create Game
                    </button>
                    <button id="joinGameBtn" class="btn btn-secondary">
                        <span class="btn-icon">ðŸ”—</span>
                        Join Game
                    </button>
                </div>
            </div>
        </div>

        <!-- Join Game Modal -->
        <div id="joinModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Join a Game</h2>
                    <button id="closeJoinModal" class="close-btn">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="input-group">
                        <label for="gameCode">Enter Game Code</label>
                        <input type="text" id="gameCode" placeholder="Enter 6-digit code" maxlength="6">
                    </div>
                    <div class="input-group">
                        <label for="playerName">Your Name</label>
                        <input type="text" id="playerName" placeholder="Enter your name" maxlength="20">
                    </div>
                    <button id="joinGameConfirm" class="btn btn-primary">Join Game</button>
                </div>
            </div>
        </div>

        <!-- Lobby Screen -->
        <div id="lobby" class="screen">
            <div class="container">
                <header class="lobby-header">
                    <div class="game-info">
                        <h2>Game Lobby</h2>
                        <div class="game-code">
                            <span>Code: </span>
                            <span id="lobbyGameCode" class="code-display"></span>
                            <button id="copyCodeBtn" class="btn btn-small">Copy</button>
                        </div>
                    </div>
                    <div class="player-count">
                        <span id="playerCount">1</span> / 8 players
                    </div>
                </header>

                <div class="lobby-content">
                    <div class="players-section">
                        <h3>Players</h3>
                        <div id="playersList" class="players-list">
                            <!-- Players will be added here dynamically -->
                        </div>
                    </div>

                    <div class="chat-section">
                        <h3>Chat</h3>
                        <div id="chatMessages" class="chat-messages"></div>
                        <div class="chat-input">
                            <input type="text" id="chatInput" placeholder="Type a message...">
                            <button id="sendMessageBtn">Send</button>
                        </div>
                    </div>
                </div>

                <div class="lobby-actions">
                    <button id="readyBtn" class="btn btn-primary">Ready</button>
                    <button id="startGameBtn" class="btn btn-success" disabled>Start Game</button>
                    <button id="leaveGameBtn" class="btn btn-danger">Leave Game</button>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game" class="screen">
            <div class="container">
                <header class="game-header">
                    <div class="game-stats">
                        <div class="question-counter">
                            Question <span id="currentQuestion">1</span> of <span id="totalQuestions">10</span>
                        </div>
                        <div class="timer">
                            <span id="timerDisplay">15</span>s
                        </div>
                    </div>
                    <div class="players-mini">
                        <div id="playersMiniList" class="players-mini-list">
                            <!-- Mini player list will be added here -->
                        </div>
                    </div>
                </header>

                <div class="question-section">
                    <div class="quote-container">
                        <blockquote id="quoteText" class="quote">
                            "Loading question..."
                        </blockquote>
                    </div>
                    
                    <div class="answers-container">
                        <div id="answersList" class="answers-list">
                            <!-- Answer options will be added here -->
                        </div>
                    </div>
                </div>

                <div class="game-footer">
                    <div class="scoreboard">
                        <h4>Scoreboard</h4>
                        <div id="scoreboardList" class="scoreboard-list">
                            <!-- Scores will be added here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results" class="screen">
            <div class="container">
                <header class="results-header">
                    <h2>Round Results</h2>
                </header>

                <div class="results-content">
                    <div class="correct-answer">
                        <h3>Correct Answer</h3>
                        <div class="answer-reveal">
                            <div class="author-name" id="correctAuthor"></div>
                            <div class="author-info" id="authorInfo"></div>
                        </div>
                    </div>

                    <div class="scoreboard-final">
                        <h3>Final Scores</h3>
                        <div id="finalScoreboard" class="final-scoreboard">
                            <!-- Final scores will be added here -->
                        </div>
                    </div>
                </div>

                <div class="results-actions">
                    <button id="nextQuestionBtn" class="btn btn-primary">Next Question</button>
                    <button id="backToLobbyBtn" class="btn btn-secondary">Back to Lobby</button>
                </div>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="gameOver" class="screen">
            <div class="container">
                <header class="game-over-header">
                    <h2>Game Complete!</h2>
                    <div class="winner-announcement">
                        <div class="winner-name" id="winnerName"></div>
                        <div class="winner-score" id="winnerScore"></div>
                    </div>
                </header>

                <div class="final-leaderboard">
                    <h3>Final Leaderboard</h3>
                    <div id="finalLeaderboard" class="leaderboard-final">
                        <!-- Final leaderboard will be added here -->
                    </div>
                </div>

                <div class="game-over-actions">
                    <button id="playAgainBtn" class="btn btn-primary">Play Again</button>
                    <button id="newGameBtn" class="btn btn-secondary">New Game</button>
                    <button id="exitGameBtn" class="btn btn-danger">Exit</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <p>Connecting...</p>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="game.js"></script>
</body>
</html>